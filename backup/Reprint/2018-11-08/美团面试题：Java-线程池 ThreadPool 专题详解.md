---
title: 美团面试题：Java-线程池 ThreadPool 专题详解
hidden: true
categories: [reprint]
slug: 89bab0dd
date: 2018-11-08 02:30:09
---

{{< raw >}}
<blockquote>&#x53BB;&#x7F8E;&#x56E2;&#x9762;&#x8BD5;&#xFF0C;&#x95EE;&#x5230;&#x4E86;&#x4EC0;&#x4E48;&#x662F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;,&#x4EE5;&#x4E0B;&#x505A;&#x4E2A;&#x603B;&#x7ED3;&#x3002;&#x5173;&#x4E8E;&#x7EBF;&#x7A0B;&#x4E4B;&#x524D;&#x4E5F;&#x5199;&#x8FC7;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;<a href="http://mp.weixin.qq.com/s?__biz=MzI3OTU0MzI4MQ==&amp;mid=2247486060&amp;idx=1&amp;sn=56083b3edca417c966f85de75488c184&amp;chksm=eb4766f2dc30efe457104d71dde01988878c594f06dc34f65eb5d23541691d11e7f008ba86a6&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">&#x300A;&#x9AD8;&#x7EA7;&#x9762;&#x8BD5;&#x9898;&#x603B;&#x7ED3;&#x2014;&#x7EBF;&#x7A0B;&#x6C60;&#x8FD8;&#x80FD;&#x8FD9;&#x4E48;&#x73A9;&#xFF1F;&#x300B;</a></blockquote><h5>1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF1A;&#xA0;</h5><p>java.util.concurrent.Executors&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; java.util.concurrent.Executor&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x6C60;</p><p>&#x591A;&#x7EBF;&#x7A0B;&#x6280;&#x672F;&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x5904;&#x7406;&#x5668;&#x5355;&#x5143;&#x5185;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x663E;&#x8457;&#x51CF;&#x5C11;&#x5904;&#x7406;&#x5668;&#x5355;&#x5143;&#x7684;&#x95F2;&#x7F6E;&#x65F6;&#x95F4;&#xFF0C;&#x589E;&#x52A0;&#x5904;&#x7406;&#x5668;&#x5355;&#x5143;&#x7684;&#x541E;&#x5410;&#x80FD;&#x529B;&#x3002;&#xA0;&#xA0;&#xA0;&#xA0;</p><p>&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B8C;&#x6210;&#x4E00;&#x9879;&#x4EFB;&#x52A1;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A;T1 &#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x65F6;&#x95F4;&#xFF0C;T2 &#x5728;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x65F6;&#x95F4;&#xFF0C;T3 &#x9500;&#x6BC1;&#x7EBF;&#x7A0B;&#x65F6;&#x95F4;&#x3002;</p><p>&#x5982;&#x679C;&#xFF1A;T1 + T3 &#x8FDC;&#x5927;&#x4E8E; T2&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x3002;</p><p><strong>&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x57FA;&#x672C;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF1A;</strong>&#xA0;</p><ul><li>1&#x3001;&#x7EBF;&#x7A0B;&#x6C60;&#x7BA1;&#x7406;&#x5668;&#xFF08;ThreadPool&#xFF09;&#xFF1A;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5E76;&#x7BA1;&#x7406;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5305;&#x62EC; &#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x9500;&#x6BC1;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x6DFB;&#x52A0;&#x65B0;&#x4EFB;&#x52A1;&#xFF1B;</li><li>2&#x3001;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#xFF08;PoolWorker&#xFF09;&#xFF1A;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x7EBF;&#x7A0B;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x52A1;&#x65F6;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x4EE5;&#x5FAA;&#x73AF;&#x7684;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#xFF1B;</li><li>3&#x3001;&#x4EFB;&#x52A1;&#x63A5;&#x53E3;&#xFF08;Task&#xFF09;&#xFF1A;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x4EE5;&#x4F9B;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x89C4;&#x5B9A;&#x4E86;&#x4EFB;&#x52A1;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x7684;&#x6536;&#x5C3E;&#x5DE5;&#x4F5C;&#xFF0C;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x72B6;&#x6001;&#x7B49;&#xFF1B;</li><li>4&#x3001;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#xFF08;taskQueue&#xFF09;&#xFF1A;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x6CA1;&#x6709;&#x5904;&#x7406;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x7F13;&#x51B2;&#x673A;&#x5236;&#x3002;</li></ul><p>&#xA0;&#x7EBF;&#x7A0B;&#x6C60;&#x6280;&#x672F;&#x6B63;&#x662F;&#x5173;&#x6CE8;&#x5982;&#x4F55;&#x7F29;&#x77ED;&#x6216;&#x8C03;&#x6574;T1,T3&#x65F6;&#x95F4;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x6027;&#x80FD;&#x7684;&#x3002;&#x5B83;&#x628A;T1&#xFF0C;T3&#x5206;&#x522B;&#x5B89;&#x6392;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x7684;&#x542F;&#x52A8;&#x548C;&#x7ED3;&#x675F;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#x6216;&#x8005;&#x4E00;&#x4E9B;&#x7A7A;&#x95F2;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;T1&#xFF0C;T3&#x7684;&#x5F00;&#x9500;&#x4E86;&#x3002;</p><p><strong>&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x4EC5;&#x8C03;&#x6574;T1,T3&#x4EA7;&#x751F;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x8FD8;&#x663E;&#x8457;&#x51CF;&#x5C11;&#x4E86;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</strong></p><p>&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x5929;&#x8981;&#x5904;&#x7406;50000&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x7EBF;&#x7A0B;&#x5B8C;&#x6210;&#x3002;&#x5728;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#xFF0C;&#x7EBF;&#x7A0B;&#x6570;&#x4E00;&#x822C;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4EA7;&#x751F;&#x7EBF;&#x7A0B;&#x603B;&#x6570;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x5229;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x5219;&#x7EBF;&#x7A0B;&#x603B;&#x6570;&#x4E3A;50000&#x3002;&#x4E00;&#x822C;&#x7EBF;&#x7A0B;&#x6C60;&#x5927;&#x5C0F;&#x662F;&#x8FDC;&#x5C0F;&#x4E8E;50000&#x3002;&#x6240;&#x4EE5;&#x5229;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x4E0D;&#x4F1A;&#x4E3A;&#x4E86;&#x521B;&#x5EFA;50000&#x800C;&#x5728;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x65F6;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x3002;</p><h5>2.&#x5E38;&#x89C1;&#x7EBF;&#x7A0B;&#x6C60;</h5><p><strong>&#x2460;newSingleThreadExecutor</strong></p><p>&#x5355;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x5373;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x6BCF;&#x6B21;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5DE5;&#x4F5C;&#xFF0C;&#x5355;&#x7EBF;&#x7A0B;&#x4E32;&#x884C;&#x6267;&#x884C;&#x4EFB;&#x52A1;</p><p><strong>&#x2461;newFixedThreadExecutor(n)</strong></p><p>&#x56FA;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x6CA1;&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;&#x8FBE;&#x5230;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x540E;&#x9762;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x76F4;&#x5230;&#x524D;&#x9762;&#x7684;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x624D;&#x7EE7;&#x7EED;&#x6267;&#x884C;</p><p><strong>&#x2462;newCacheThreadExecutor&#xFF08;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF09;</strong></p><p>&#x53EF;&#x7F13;&#x5B58;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;<strong>&#x5F53;&#x7EBF;&#x7A0B;&#x6C60;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x4E86;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x6240;&#x9700;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x56DE;&#x6536;&#x90E8;&#x5206;&#x7A7A;&#x95F2;&#xFF08;&#x4E00;&#x822C;&#x662F;60&#x79D2;&#x65E0;&#x6267;&#x884C;&#xFF09;&#x7684;&#x7EBF;&#x7A0B;</strong>&#xFF0C;&#x5F53;&#x6709;&#x4EFB;&#x52A1;&#x6765;&#x65F6;&#xFF0C;&#x53C8;&#x667A;&#x80FD;&#x7684;&#x6DFB;&#x52A0;&#x65B0;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x3002;</p><p><strong>&#x2463;newScheduleThreadExecutor</strong></p><p>&#x5927;&#x5C0F;&#x65E0;&#x9650;&#x5236;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x652F;&#x6301;&#x5B9A;&#x65F6;&#x548C;&#x5468;&#x671F;&#x6027;&#x7684;&#x6267;&#x884C;&#x7EBF;&#x7A0B;</p><p><strong>&#xA0; java&#x63D0;&#x4F9B;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x66F4;&#x52A0;&#x5F3A;&#x5927;&#xFF0C;&#x76F8;&#x4FE1;&#x7406;&#x89E3;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF0C;&#x770B;&#x7C7B;&#x5E93;&#x4E2D;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x5C31;&#x4E0D;&#x4F1A;&#x611F;&#x5230;&#x964C;&#x751F;&#x4E86;&#x3002;</strong></p><p><span class="img-wrap"><img data-src="/img/remote/1460000016451172?w=907&amp;h=478" src="https://static.alili.tech/img/remote/1460000016451172?w=907&amp;h=478" alt=" " title=" " style="cursor:pointer;display:inline"></span></p><p><span class="img-wrap"><img data-src="/img/remote/1460000016451173" src="https://static.alili.tech/img/remote/1460000016451173" alt=" " title=" " style="cursor:pointer;display:inline"></span></p><p><strong>&#x6587;&#x7AE0;2&#xFF1A;</strong></p><p>Java&#x7EBF;&#x7A0B;&#x6C60;&#x4F7F;&#x7528;&#x8BF4;&#x660E;</p><h1 id="articleHeader0">&#x4E00;&#x7B80;&#x4ECB;</h1><p>&#x7EBF;&#x7A0B;&#x7684;&#x4F7F;&#x7528;&#x5728;java&#x4E2D;&#x5360;&#x6709;&#x6781;&#x5176;&#x91CD;&#x8981;&#x7684;&#x5730;&#x4F4D;&#xFF0C;&#x5728;jdk1.4&#x6781;&#x5176;&#x4E4B;&#x524D;&#x7684;jdk&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x5173;&#x4E8E;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x4F7F;&#x7528;&#x662F;&#x6781;&#x5176;&#x7B80;&#x964B;&#x7684;&#x3002;&#x5728;jdk1.5&#x4E4B;&#x540E;&#x8FD9;&#x4E00;&#x60C5;&#x51B5;&#x6709;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x6539;&#x89C2;&#x3002;Jdk1.5&#x4E4B;&#x540E;&#x52A0;&#x5165;&#x4E86;java.util.concurrent&#x5305;&#xFF0C;&#x8FD9;&#x4E2A;&#x5305;&#x4E2D;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;java&#x4E2D;&#x7EBF;&#x7A0B;&#x4EE5;&#x53CA;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x4F7F;&#x7528;&#x3002;&#x4E3A;&#x6211;&#x4EEC;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x7684;&#x95EE;&#x9898;&#x63D0;&#x4F9B;&#x4E86;&#x975E;&#x5E38;&#x5927;&#x7684;&#x5E2E;&#x52A9;&#x3002;</p><h1 id="articleHeader1">&#x4E8C;&#xFF1A;&#x7EBF;&#x7A0B;&#x6C60;</h1><p><strong>&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x4F5C;&#x7528;&#xFF1A;</strong></p><p>&#x7EBF;&#x7A0B;&#x6C60;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x9650;&#x5236;&#x7CFB;&#x7EDF;&#x4E2D;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x91CF;&#x3002;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x7684;&#x73AF;&#x5883;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x6216;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x7EBF;&#x7A0B;&#x6570;&#x91CF;&#xFF0C;&#x8FBE;&#x5230;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x4F73;&#x6548;&#x679C;&#xFF1B;&#x5C11;&#x4E86;&#x6D6A;&#x8D39;&#x4E86;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x591A;&#x4E86;&#x9020;&#x6210;&#x7CFB;&#x7EDF;&#x62E5;&#x6324;&#x6548;&#x7387;&#x4E0D;&#x9AD8;&#x3002;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;&#x63A7;&#x5236;&#x7EBF;&#x7A0B;&#x6570;&#x91CF;&#xFF0C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x6392;&#x961F;&#x7B49;&#x5019;&#x3002;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x518D;&#x4ECE;&#x961F;&#x5217;&#x7684;&#x4E2D;&#x53D6;&#x6700;&#x524D;&#x9762;&#x7684;&#x4EFB;&#x52A1;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x3002;&#x82E5;&#x961F;&#x5217;&#x4E2D;&#x6CA1;&#x6709;&#x7B49;&#x5F85;&#x8FDB;&#x7A0B;&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x8FD9;&#x4E00;&#x8D44;&#x6E90;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x65B0;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x6709;&#x7B49;&#x5F85;&#x7684;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x8FD0;&#x884C;&#x4E86;&#xFF1B;&#x5426;&#x5219;&#x8FDB;&#x5165;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x3002;</p><p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;&#x7EBF;&#x7A0B;&#x6C60;:</strong></p><p>1.&#x51CF;&#x5C11;&#x4E86;&#x521B;&#x5EFA;&#x548C;&#x9500;&#x6BC1;&#x7EBF;&#x7A0B;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x91CD;&#x590D;&#x5229;&#x7528;&#xFF0C;&#x53EF;&#x6267;&#x884C;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;</p><p>2.&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x7684;&#x627F;&#x53D7;&#x80FD;&#x529B;&#xFF0C;&#x8C03;&#x6574;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x5DE5;&#x4F5C;&#x7EBF;&#x7EBF;&#x7A0B;&#x7684;&#x6570;&#x76EE;&#xFF0C;&#x9632;&#x6B62;&#x56E0;&#x4E3A;&#x6D88;&#x8017;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x800C;&#x628A;&#x670D;&#x52A1;&#x5668;&#x7D2F;&#x8DB4;&#x4E0B;(&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x9700;&#x8981;&#x5927;&#x7EA6;1MB&#x5185;&#x5B58;&#xFF0C;&#x7EBF;&#x7A0B;&#x5F00;&#x7684;&#x8D8A;&#x591A;&#xFF0C;&#x6D88;&#x8017;&#x7684;&#x5185;&#x5B58;&#x4E5F;&#x5C31;&#x8D8A;&#x5927;&#xFF0C;&#x6700;&#x540E;&#x6B7B;&#x673A;)&#x3002;</p><p>Java&#x91CC;&#x9762;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x9876;&#x7EA7;&#x63A5;&#x53E3;&#x662F;Executor&#xFF0C;&#x4F46;&#x662F;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x8BB2;Executor&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x7EBF;&#x7A0B;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x662F;ExecutorService&#x3002;</p><p>&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x51E0;&#x4E2A;&#x7C7B;&#xFF1A;</p><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td><strong>ExecutorService</strong></td><td>&#x771F;&#x6B63;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x63A5;&#x53E3;&#x3002;</td></tr><tr><td><strong>ScheduledExecutorService</strong></td><td>&#x80FD;&#x548C;Timer/TimerTask&#x7C7B;&#x4F3C;&#xFF0C;&#x89E3;&#x51B3;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x4EFB;&#x52A1;&#x91CD;&#x590D;&#x6267;&#x884C;&#x7684;&#x95EE;&#x9898;&#x3002;</td></tr><tr><td><strong>ThreadPoolExecutor</strong></td><td>ExecutorService&#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x3002;</td></tr><tr><td><strong>ScheduledThreadPoolExecutor</strong></td><td>&#x7EE7;&#x627F;ThreadPoolExecutor&#x7684;ScheduledExecutorService&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x5468;&#x671F;&#x6027;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x7684;&#x7C7B;&#x5B9E;&#x73B0;&#x3002;</td></tr></tbody></table><p>&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#x662F;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5BF9;&#x4E8E;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x539F;&#x7406;&#x4E0D;&#x662F;&#x5F88;&#x6E05;&#x695A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x914D;&#x7F6E;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x662F;&#x8F83;&#x4F18;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728;Executors&#x7C7B;&#x91CC;&#x9762;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x9759;&#x6001;&#x5DE5;&#x5382;&#xFF0C;&#x751F;&#x6210;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;</p><p><strong>1. newSingleThreadExecutor</strong></p><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;&#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x6C60;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5728;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x5355;&#x7EBF;&#x7A0B;&#x4E32;&#x884C;&#x6267;&#x884C;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7EBF;&#x7A0B;&#x56E0;&#x4E3A;&#x5F02;&#x5E38;&#x7ED3;&#x675F;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x6765;&#x66FF;&#x4EE3;&#x5B83;&#x3002;&#x6B64;&#x7EBF;&#x7A0B;&#x6C60;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x6309;&#x7167;&#x4EFB;&#x52A1;&#x7684;&#x63D0;&#x4EA4;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x3002;</p><p>2.<strong>newFixedThreadPool</strong></p><p>&#x521B;&#x5EFA;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;&#x6BCF;&#x6B21;&#x63D0;&#x4EA4;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;&#x7EBF;&#x7A0B;&#x8FBE;&#x5230;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x6700;&#x5927;&#x5927;&#x5C0F;&#x3002;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5927;&#x5C0F;&#x4E00;&#x65E6;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x503C;&#x5C31;&#x4F1A;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x7EBF;&#x7A0B;&#x56E0;&#x4E3A;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x800C;&#x7ED3;&#x675F;&#xFF0C;&#x90A3;&#x4E48;&#x7EBF;&#x7A0B;&#x6C60;&#x4F1A;&#x8865;&#x5145;&#x4E00;&#x4E2A;&#x65B0;&#x7EBF;&#x7A0B;&#x3002;</p><p><strong>3. newCachedThreadPool</strong></p><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x7F13;&#x5B58;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;&#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x6C60;&#x7684;&#x5927;&#x5C0F;&#x8D85;&#x8FC7;&#x4E86;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x6240;&#x9700;&#x8981;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;</p><p>&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x56DE;&#x6536;&#x90E8;&#x5206;&#x7A7A;&#x95F2;&#xFF08;60&#x79D2;&#x4E0D;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#xFF09;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x5F53;&#x4EFB;&#x52A1;&#x6570;&#x589E;&#x52A0;&#x65F6;&#xFF0C;&#x6B64;&#x7EBF;&#x7A0B;&#x6C60;&#x53C8;&#x53EF;&#x4EE5;<a href="http://lib.csdn.net/base/aiplanning" rel="nofollow noreferrer" target="_blank">&#x667A;&#x80FD;</a>&#x7684;&#x6DFB;&#x52A0;&#x65B0;&#x7EBF;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x3002;&#x6B64;&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x4F1A;&#x5BF9;&#x7EBF;&#x7A0B;&#x6C60;&#x5927;&#x5C0F;&#x505A;&#x9650;&#x5236;&#xFF0C;&#x7EBF;&#x7A0B;&#x6C60;&#x5927;&#x5C0F;&#x5B8C;&#x5168;&#x4F9D;&#x8D56;&#x4E8E;<a href="http://lib.csdn.net/base/operatingsystem" rel="nofollow noreferrer" target="_blank">&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a>&#xFF08;&#x6216;&#x8005;&#x8BF4;JVM&#xFF09;&#x80FD;&#x591F;&#x521B;&#x5EFA;&#x7684;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x5927;&#x5C0F;&#x3002;</p><p>4.<strong>newScheduledThreadPool</strong></p><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5927;&#x5C0F;&#x65E0;&#x9650;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;&#x6B64;&#x7EBF;&#x7A0B;&#x6C60;&#x652F;&#x6301;&#x5B9A;&#x65F6;&#x4EE5;&#x53CA;&#x5468;&#x671F;&#x6027;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x9700;&#x6C42;&#x3002;</p><p><strong>&#x5B9E;&#x4F8B;</strong></p><p><strong>1&#xFF1A;newSingleThreadExecutor</strong></p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package com.thread;
 /* * 
  *&#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */

public class MyThread extends Thread { 

    @Override public void run() { // TODO Auto-generated method stub // super.run();
    System.out.println(Thread.currentThread().getName()+&quot;&#x6B63;&#x5728;&#x6267;&#x884C;....&quot;);
    } 
} " title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs scala"><code><span class="hljs-keyword">package</span> com.thread;
 <span class="hljs-comment">/* * 
  *&#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */</span>

public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> </span>{ 

    <span class="hljs-meta">@Override</span> public void run() { <span class="hljs-comment">// TODO Auto-generated method stub // super.run();</span>
    <span class="hljs-type">System</span>.out.println(<span class="hljs-type">Thread</span>.currentThread().getName()+<span class="hljs-string">&quot;&#x6B63;&#x5728;&#x6267;&#x884C;....&quot;</span>);
    } 
} </code></pre><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package com.thread; 
import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; 
/* 
 * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */

public class singleThreadExecutorTest{ public static void main(String[] args) { // TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;
        ExecutorService pool=Executors.newSingleThreadExecutor(); //&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;
 Thread t1=new MyThread();

        Thread t2=new MyThread();

        Thread t3=new MyThread();

        Thread t4=new MyThread();

        Thread t5=new MyThread(); //&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); //&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;
 pool.shutdown();

    }

} 
" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code><span class="hljs-keyword">package</span> com.thread; 
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService; <span class="hljs-keyword">import</span> java.util.concurrent.Executors; 
<span class="hljs-comment">/* 
 * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">singleThreadExecutorTest</span></span>{ <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args) { <span class="hljs-comment">// TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;</span>
        ExecutorService pool=Executors.<span class="hljs-keyword">new</span><span class="hljs-type">SingleThreadExecutor</span>(); <span class="hljs-comment">//&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;</span>
 Thread t1=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t2=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t3=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t4=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t5=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>(); <span class="hljs-comment">//&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;</span>
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); <span class="hljs-comment">//&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;</span>
 pool.shutdown();

    }

} 
</code></pre><p>&#x7ED3;&#x679C;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;...." title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs clean"><code>pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....</code></pre><p><strong>2newFixedThreadPool</strong></p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" package com.thread; 
import java.util.concurrent.ExecutorService;
 import java.util.concurrent.Executors; 
/* * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */

public class fixedThreadExecutorTest{ public static void main(String[] args) { // TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;
        ExecutorService pool=Executors.newFixedThreadPool(2); //&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;
 Thread t1=new MyThread();

        Thread t2=new MyThread();

        Thread t3=new MyThread();

        Thread t4=new MyThread();

        Thread t5=new MyThread(); //&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); //&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;
 pool.shutdown();

    }

}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code> <span class="hljs-keyword">package</span> com.thread; 
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
 <span class="hljs-keyword">import</span> java.util.concurrent.Executors; 
<span class="hljs-comment">/* * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">fixedThreadExecutorTest</span></span>{ <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args) { <span class="hljs-comment">// TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;</span>
        ExecutorService pool=Executors.<span class="hljs-keyword">new</span><span class="hljs-type">FixedThreadPool</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">//&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;</span>
 Thread t1=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t2=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t3=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t4=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t5=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>(); <span class="hljs-comment">//&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;</span>
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); <span class="hljs-comment">//&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;</span>
 pool.shutdown();

    }

}</code></pre><p>&#x7ED3;&#x679C;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-2&#x6B63;&#x5728;&#x6267;&#x884C;...." title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs clean"><code>pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-2</span>&#x6B63;&#x5728;&#x6267;&#x884C;....</code></pre><p>3&#x3001;<strong>newCachedThreadPool</strong></p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package com.thread;
 import java.util.concurrent.ExecutorService;
 import java.util.concurrent.Executors;
 /* 
 * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */

public class cachedThreadExecutorTest{ public static void main(String[] args) { // TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;
        ExecutorService pool=Executors.newCachedThreadPool(); //&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;
 Thread t1=new MyThread();

        Thread t2=new MyThread();

        Thread t3=new MyThread();

        Thread t4=new MyThread();

        Thread t5=new MyThread(); //&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); //&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;
 pool.shutdown();

    }

}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code><span class="hljs-keyword">package</span> com.thread;
 <span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
 <span class="hljs-keyword">import</span> java.util.concurrent.Executors;
 <span class="hljs-comment">/* 
 * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">cachedThreadExecutorTest</span></span>{ <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args) { <span class="hljs-comment">// TODO Auto-generated method stub //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x56FA;&#x5B9A;&#x7EBF;&#x7A0B;&#x6570;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;</span>
        ExecutorService pool=Executors.<span class="hljs-keyword">new</span><span class="hljs-type">CachedThreadPool</span>(); <span class="hljs-comment">//&#x521B;&#x5EFA;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;Thread&#x5BF9;&#x8C61;&#x5F53;&#x7136;&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;Runnable&#x63A5;&#x53E3;;</span>
 Thread t1=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t2=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t3=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t4=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>();

        Thread t5=<span class="hljs-keyword">new</span> <span class="hljs-type">MyThread</span>(); <span class="hljs-comment">//&#x5C06;&#x7EBF;&#x7A0B;&#x653E;&#x5230;&#x6C60;&#x4E2D;&#x6267;&#x884C;&#xFF1B;</span>
 pool.execute(t1);

        pool.execute(t2);

        pool.execute(t3);

        pool.execute(t4);

        pool.execute(t5); <span class="hljs-comment">//&#x5173;&#x95ED;&#x7EBF;&#x7A0B;&#x6C60;</span>
 pool.shutdown();

    }

}</code></pre><p>&#x7ED3;&#x679C;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="pool-1-thread-2&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-1&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-3&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-4&#x6B63;&#x5728;&#x6267;&#x884C;....
pool-1-thread-5&#x6B63;&#x5728;&#x6267;&#x884C;...." title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs clean"><code>pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-2</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-1</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-3</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-4</span>&#x6B63;&#x5728;&#x6267;&#x884C;....
pool<span class="hljs-number">-1</span>-thread<span class="hljs-number">-5</span>&#x6B63;&#x5728;&#x6267;&#x884C;....</code></pre><p>4&#x3001;<strong>newScheduledThreadPool</strong></p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="package com.thread; import java.util.concurrent.ScheduledThreadPoolExecutor; import java.util.concurrent.TimeUnit; 
/* * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */

public class scheduledThreadExecutorTest{ public static void main(String[] args) { // TODO Auto-generated method stub
 ScheduledThreadPoolExecutor exec =new ScheduledThreadPoolExecutor(1);
       exec.scheduleAtFixedRate(new Runnable(){//&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5C31;&#x89E6;&#x53D1;&#x5F02;&#x5E38;
 @Override public void run() { // TODO Auto-generated method stub //throw new RuntimeException();
            System.out.println(&quot;===================&quot;);

        }}, 1000, 5000, TimeUnit.MILLISECONDS);  

       exec.scheduleAtFixedRate(new Runnable(){//&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x6253;&#x5370;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#xFF0C;&#x8BC1;&#x660E;&#x4E24;&#x8005;&#x662F;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#x7684;
 @Override public void run() { // TODO Auto-generated method stub
 System.out.println(System.nanoTime());

        }}, 1000, 2000, TimeUnit.MILLISECONDS);

    }

}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs java"><code><span class="hljs-keyword">package</span> com.thread; <span class="hljs-keyword">import</span> java.util.concurrent.ScheduledThreadPoolExecutor; <span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit; 
<span class="hljs-comment">/* * &#x901A;&#x8FC7;&#x5B9E;&#x73B0;Runnable&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;
 * Runnable&#x7C7B;&#x662F;&#x6709;run()&#x65B9;&#x6CD5;&#x7684;&#xFF1B;
 * &#x4F46;&#x662F;&#x6CA1;&#x6709;start&#x65B9;&#x6CD5;
 * &#x53C2;&#x8003;&#xFF1A;
 * http://blog.csdn.net/qq_31753145/article/details/50899119 * */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">scheduledThreadExecutorTest</span></span>{ <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{ <span class="hljs-comment">// TODO Auto-generated method stub</span>
 ScheduledThreadPoolExecutor exec =<span class="hljs-keyword">new</span> ScheduledThreadPoolExecutor(<span class="hljs-number">1</span>);
       exec.scheduleAtFixedRate(<span class="hljs-keyword">new</span> Runnable(){<span class="hljs-comment">//&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5C31;&#x89E6;&#x53D1;&#x5F02;&#x5E38;</span>
 <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">// TODO Auto-generated method stub //throw new RuntimeException();</span>
            System.out.println(<span class="hljs-string">&quot;===================&quot;</span>);

        }}, <span class="hljs-number">1000</span>, <span class="hljs-number">5000</span>, TimeUnit.MILLISECONDS);  

       exec.scheduleAtFixedRate(<span class="hljs-keyword">new</span> Runnable(){<span class="hljs-comment">//&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x6253;&#x5370;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#xFF0C;&#x8BC1;&#x660E;&#x4E24;&#x8005;&#x662F;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#x7684;</span>
 <span class="hljs-meta">@Override</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">// TODO Auto-generated method stub</span>
 System.out.println(System.nanoTime());

        }}, <span class="hljs-number">1000</span>, <span class="hljs-number">2000</span>, TimeUnit.MILLISECONDS);

    }

}</code></pre><p>&#x7ED3;&#x679C;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="===================
23119318857491
23121319071841
23123319007891
===================
23125318176937
23127318190359
===================
23129318176148
23131318344312
23133318465896
===================
23135319645812" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs asciidoc"><code>===================
23119318857491
23121319071841
23123319007891
===================
23125318176937
<span class="hljs-section">23127318190359
===================</span>
23129318176148
23131318344312
<span class="hljs-section">23133318465896
===================</span>
23135319645812</code></pre><h3 id="articleHeader2">&#x4E09;&#xFF1A;ThreadPoolExecutor&#x8BE6;&#x89E3;</h3><p>ThreadPoolExecutor&#x7684;&#x5B8C;&#x6574;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x7684;&#x7B7E;&#x540D;&#x662F;&#xFF1A;<strong>ThreadPoolExecutor</strong><code>(int&#xA0;corePoolSize, int&#xA0;maximumPoolSize, long&#xA0;keepAliveTime, TimeUnit&#xA0;unit, BlockingQueue&lt;Runnable&gt;&#xA0;workQueue, ThreadFactory&#xA0;threadFactory, RejectedExecutionHandler&#xA0;handler)</code>&#xA0;.</p><p><strong>corePoolSize</strong>&#xA0;-&#xA0;&#x6C60;&#x4E2D;&#x6240;&#x4FDD;&#x5B58;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x5305;&#x62EC;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#x3002;</p><p><strong>maximumPoolSize</strong>-&#x6C60;&#x4E2D;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x6570;&#x3002;</p><p><strong>keepAliveTime</strong>&#xA0;-&#xA0;&#x5F53;&#x7EBF;&#x7A0B;&#x6570;&#x5927;&#x4E8E;&#x6838;&#x5FC3;&#x65F6;&#xFF0C;&#x6B64;&#x4E3A;&#x7EC8;&#x6B62;&#x524D;&#x591A;&#x4F59;&#x7684;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x65B0;&#x4EFB;&#x52A1;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;&#x3002;</p><p><strong>unit</strong>&#xA0;- keepAliveTime&#xA0;&#x53C2;&#x6570;&#x7684;&#x65F6;&#x95F4;&#x5355;&#x4F4D;&#x3002;</p><p><strong>workQueue</strong>&#xA0;-&#xA0;&#x6267;&#x884C;&#x524D;&#x7528;&#x4E8E;&#x4FDD;&#x6301;&#x4EFB;&#x52A1;&#x7684;&#x961F;&#x5217;&#x3002;&#x6B64;&#x961F;&#x5217;&#x4EC5;&#x4FDD;&#x6301;&#x7531;&#xA0;execute&#x65B9;&#x6CD5;&#x63D0;&#x4EA4;&#x7684;&#xA0;Runnable&#x4EFB;&#x52A1;&#x3002;</p><p><strong>threadFactory</strong>&#xA0;-&#xA0;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x521B;&#x5EFA;&#x65B0;&#x7EBF;&#x7A0B;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x5DE5;&#x5382;&#x3002;</p><p><strong>handler</strong>&#xA0;-&#xA0;&#x7531;&#x4E8E;&#x8D85;&#x51FA;&#x7EBF;&#x7A0B;&#x8303;&#x56F4;&#x548C;&#x961F;&#x5217;&#x5BB9;&#x91CF;&#x800C;&#x4F7F;&#x6267;&#x884C;&#x88AB;&#x963B;&#x585E;&#x65F6;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</p><p><strong>ThreadPoolExecutor&#x662F;Executors&#x7C7B;&#x7684;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x3002;</strong></p><p>&#x5728;JDK&#x5E2E;&#x52A9;&#x6587;&#x6863;&#x4E2D;&#xFF0C;&#x6709;&#x5982;&#x6B64;&#x4E00;&#x6BB5;&#x8BDD;&#xFF1A;</p><p>&#x201C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x7A0B;&#x5E8F;&#x5458;&#x4F7F;&#x7528;&#x8F83;&#x4E3A;&#x65B9;&#x4FBF;&#x7684;<code>Executors</code>&#x5DE5;&#x5382;&#x65B9;&#x6CD5;<code>Executors.newCachedThreadPool()</code>&#xFF08;&#x65E0;&#x754C;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x7EBF;&#x7A0B;&#x56DE;&#x6536;&#xFF09;&#x3001;<code>Executors.newFixedThreadPool(int)</code>&#xFF08;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF09;<code>Executors.newSingleThreadExecutor()</code>&#xFF08;&#x5355;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#xFF09;</p><p>&#x5B83;&#x4EEC;&#x5747;&#x4E3A;&#x5927;&#x591A;&#x6570;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x9884;&#x5B9A;&#x4E49;&#x4E86;&#x8BBE;&#x7F6E;&#x3002;&#x201D;</p><p>&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x51E0;&#x4E2A;&#x7C7B;&#x7684;&#x6E90;&#x7801;&#xFF1A;</p><p><strong>ExecutorService&#xA0;&#xA0;newFixedThreadPool (int nThreads):&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;</strong></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;corePoolSize&#x548C;maximumPoolSize&#x7684;&#x5927;&#x5C0F;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x4ECB;&#x7ECD;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x65E0;&#x754C;queue&#x7684;&#x8BDD;maximumPoolSize&#x53C2;&#x6570;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#xFF09;&#xFF0C;keepAliveTime&#x548C;unit&#x7684;&#x8BBE;&#x503C;&#x8868;&#x540D;&#x4EC0;&#x4E48;&#xFF1F;-&#x5C31;&#x662F;&#x8BE5;&#x5B9E;&#x73B0;&#x4E0D;&#x60F3;keep alive&#xFF01;&#x6700;&#x540E;&#x7684;BlockingQueue&#x9009;&#x62E9;&#x4E86;LinkedBlockingQueue&#xFF0C;&#x8BE5;queue&#x6709;&#x4E00;&#x4E2A;&#x7279;&#x70B9;&#xFF0C;&#x4ED6;&#x662F;&#x65E0;&#x754C;&#x7684;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());   

      }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-keyword">new</span><span class="hljs-type">FixedThreadPool</span>(int nThreads) { <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>(nThreads, nThreads, <span class="hljs-number">0</span>L, TimeUnit.MILLISECONDS, <span class="hljs-keyword">new</span> <span class="hljs-type">LinkedBlockingQueue</span>&lt;Runnable&gt;());   

      }</code></pre><p><strong>ExecutorService&#xA0;&#xA0;newSingleThreadExecutor()&#xFF1A;&#x5355;&#x7EBF;&#x7A0B;</strong></p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public static ExecutorService newSingleThreadExecutor() { return new FinalizableDelegatedExecutorService   
                 (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));   
       }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-keyword">new</span><span class="hljs-type">SingleThreadExecutor</span>() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">FinalizableDelegatedExecutorService</span>   
                 (<span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>L, TimeUnit.MILLISECONDS, <span class="hljs-keyword">new</span> <span class="hljs-type">LinkedBlockingQueue</span>&lt;Runnable&gt;()));   
       }</code></pre><p><strong>ExecutorService newCachedThreadPool()&#xFF1A;&#x65E0;&#x754C;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x7EBF;&#x7A0B;&#x56DE;&#x6536;</strong></p><p>&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x5C31;&#x6709;&#x610F;&#x601D;&#x4E86;&#x3002;&#x9996;&#x5148;&#x662F;&#x65E0;&#x754C;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;maximumPoolSize&#x4E3A;big big&#x3002;&#x5176;&#x6B21;BlockingQueue&#x7684;&#x9009;&#x62E9;&#x4E0A;&#x4F7F;&#x7528;SynchronousQueue&#x3002;&#x53EF;&#x80FD;&#x5BF9;&#x4E8E;&#x8BE5;BlockingQueue&#x6709;&#x4E9B;&#x964C;&#x751F;&#xFF0C;&#x7B80;&#x5355;&#x8BF4;&#xFF1A;&#x8BE5;QUEUE&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7684;&#x5BF9;&#x5E94;&#x79FB;&#x9664;&#x64CD;&#x4F5C;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" public static ExecutorService newCachedThreadPool() {
   return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());   
    }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-keyword">new</span><span class="hljs-type">CachedThreadPool</span>() {
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>(<span class="hljs-number">0</span>, Integer.MAX_VALUE, <span class="hljs-number">60</span>L, TimeUnit.SECONDS, <span class="hljs-keyword">new</span> <span class="hljs-type">SynchronousQueue</span>&lt;Runnable&gt;());   
    }</code></pre><p>&#x5148;&#x4ECE;<a href="http://dongxuan.iteye.com/admin/blogs/901659/" rel="nofollow noreferrer" target="_blank">BlockingQueue</a>&lt;<a href="http://dongxuan.iteye.com/admin/blogs/901659/" rel="nofollow noreferrer" target="_blank">Runnable</a>&gt;&#xA0;workQueue&#x8FD9;&#x4E2A;&#x5165;&#x53C2;&#x5F00;&#x59CB;&#x8BF4;&#x8D77;&#x3002;&#x5728;JDK&#x4E2D;&#xFF0C;&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x8BF4;&#x5F97;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x4E00;&#x5171;&#x6709;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#x7684;queue&#x3002;</p><p>&#x6240;&#x6709;BlockingQueue&#xA0;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x4F20;&#x8F93;&#x548C;&#x4FDD;&#x6301;&#x63D0;&#x4EA4;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x961F;&#x5217;&#x4E0E;&#x6C60;&#x5927;&#x5C0F;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF1A;</p><p>&#x5982;&#x679C;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x5C11;&#x4E8E;&#xA0;corePoolSize&#xFF0C;&#x5219;&#xA0;Executor&#x59CB;&#x7EC8;&#x9996;&#x9009;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x8FDB;&#x884C;&#x6392;&#x961F;&#x3002;&#xFF08;&#x5982;&#x679C;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x5C0F;&#x4E8E;corePoolSize&#xFF0C;&#x5219;&#x4EFB;&#x52A1;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x5B58;&#x653E;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;queue&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x6284;&#x5BB6;&#x4F19;&#xFF08;thread&#xFF09;&#x5F00;&#x59CB;&#x8FD0;&#x884C;&#xFF09;</p><p>&#x5982;&#x679C;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x7B49;&#x4E8E;&#x6216;&#x591A;&#x4E8E;&#xA0;corePoolSize&#xFF0C;&#x5219;&#xA0;Executor&#x59CB;&#x7EC8;&#x9996;&#x9009;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;<strong>&#x800C;&#x4E0D;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;</strong>&#x3002;</p><p>&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x9664;&#x975E;&#x521B;&#x5EFA;&#x6B64;&#x7EBF;&#x7A0B;&#x8D85;&#x51FA;&#xA0;maximumPoolSize&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EFB;&#x52A1;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x3002;</p><p><strong>queue&#x4E0A;&#x7684;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#x3002;</strong></p><p>&#x6392;&#x961F;&#x6709;&#x4E09;&#x79CD;&#x901A;&#x7528;&#x7B56;&#x7565;&#xFF1A;</p><p><strong>&#x76F4;&#x63A5;&#x63D0;&#x4EA4;&#x3002;</strong>&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#x7684;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;&#xA0;SynchronousQueue&#xFF0C;&#x5B83;&#x5C06;&#x4EFB;&#x52A1;&#x76F4;&#x63A5;&#x63D0;&#x4EA4;&#x7ED9;&#x7EBF;&#x7A0B;&#x800C;&#x4E0D;&#x4FDD;&#x6301;&#x5B83;&#x4EEC;&#x3002;&#x5728;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x53EF;&#x7528;&#x4E8E;&#x7ACB;&#x5373;&#x8FD0;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x5219;&#x8BD5;&#x56FE;&#x628A;&#x4EFB;&#x52A1;&#x52A0;&#x5165;&#x961F;&#x5217;&#x5C06;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x6B64;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x5728;&#x5904;&#x7406;&#x53EF;&#x80FD;&#x5177;&#x6709;&#x5185;&#x90E8;&#x4F9D;&#x8D56;&#x6027;&#x7684;&#x8BF7;&#x6C42;&#x96C6;&#x65F6;&#x51FA;&#x73B0;&#x9501;&#x3002;&#x76F4;&#x63A5;&#x63D0;&#x4EA4;&#x901A;&#x5E38;&#x8981;&#x6C42;&#x65E0;&#x754C;&#xA0;maximumPoolSizes&#xA0;&#x4EE5;&#x907F;&#x514D;&#x62D2;&#x7EDD;&#x65B0;&#x63D0;&#x4EA4;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x5F53;&#x547D;&#x4EE4;&#x4EE5;&#x8D85;&#x8FC7;&#x961F;&#x5217;&#x6240;&#x80FD;&#x5904;&#x7406;&#x7684;&#x5E73;&#x5747;&#x6570;&#x8FDE;&#x7EED;&#x5230;&#x8FBE;&#x65F6;&#xFF0C;&#x6B64;&#x7B56;&#x7565;&#x5141;&#x8BB8;&#x65E0;&#x754C;&#x7EBF;&#x7A0B;&#x5177;&#x6709;&#x589E;&#x957F;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;</p><p><strong>&#x65E0;&#x754C;&#x961F;&#x5217;&#x3002;</strong>&#x4F7F;&#x7528;&#x65E0;&#x754C;&#x961F;&#x5217;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4E0D;&#x5177;&#x6709;&#x9884;&#x5B9A;&#x4E49;&#x5BB9;&#x91CF;&#x7684;&#xA0;LinkedBlockingQueue&#xFF09;&#x5C06;&#x5BFC;&#x81F4;&#x5728;&#x6240;&#x6709;corePoolSize&#xA0;&#x7EBF;&#x7A0B;&#x90FD;&#x5FD9;&#x65F6;&#x65B0;&#x4EFB;&#x52A1;&#x5728;&#x961F;&#x5217;&#x4E2D;&#x7B49;&#x5F85;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x521B;&#x5EFA;&#x7684;&#x7EBF;&#x7A0B;&#x5C31;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7;&#xA0;corePoolSize&#x3002;&#xFF08;&#x56E0;&#x6B64;&#xFF0C;maximumPoolSize&#x7684;&#x503C;&#x4E5F;&#x5C31;&#x65E0;&#x6548;&#x4E86;&#x3002;&#xFF09;&#x5F53;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#xFF0C;&#x5373;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#x65F6;&#xFF0C;&#x9002;&#x5408;&#x4E8E;&#x4F7F;&#x7528;&#x65E0;&#x754C;&#x961F;&#x5217;&#xFF1B;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#xA0;Web&#x9875;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x3002;&#x8FD9;&#x79CD;&#x6392;&#x961F;&#x53EF;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x77AC;&#x6001;&#x7A81;&#x53D1;&#x8BF7;&#x6C42;&#xFF0C;&#x5F53;&#x547D;&#x4EE4;&#x4EE5;&#x8D85;&#x8FC7;&#x961F;&#x5217;&#x6240;&#x80FD;&#x5904;&#x7406;&#x7684;&#x5E73;&#x5747;&#x6570;&#x8FDE;&#x7EED;&#x5230;&#x8FBE;&#x65F6;&#xFF0C;&#x6B64;&#x7B56;&#x7565;&#x5141;&#x8BB8;&#x65E0;&#x754C;&#x7EBF;&#x7A0B;&#x5177;&#x6709;&#x589E;&#x957F;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;</p><p><strong>&#x6709;&#x754C;&#x961F;&#x5217;&#x3002;</strong>&#x5F53;&#x4F7F;&#x7528;&#x6709;&#x9650;&#x7684;&#xA0;maximumPoolSizes&#x65F6;&#xFF0C;&#x6709;&#x754C;&#x961F;&#x5217;&#xFF08;&#x5982;&#xA0;ArrayBlockingQueue&#xFF09;&#x6709;&#x52A9;&#x4E8E;&#x9632;&#x6B62;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x8F83;&#x96BE;&#x8C03;&#x6574;&#x548C;&#x63A7;&#x5236;&#x3002;&#x961F;&#x5217;&#x5927;&#x5C0F;&#x548C;&#x6700;&#x5927;&#x6C60;&#x5927;&#x5C0F;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x76F8;&#x4E92;&#x6298;&#x8877;&#xFF1A;&#x4F7F;&#x7528;&#x5927;&#x578B;&#x961F;&#x5217;&#x548C;&#x5C0F;&#x578B;&#x6C60;&#x53EF;&#x4EE5;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x964D;&#x4F4E;&#xA0;CPU&#xA0;&#x4F7F;&#x7528;&#x7387;&#x3001;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x548C;&#x4E0A;&#x4E0B;&#x6587;&#x5207;&#x6362;&#x5F00;&#x9500;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4EBA;&#x5DE5;&#x964D;&#x4F4E;&#x541E;&#x5410;&#x91CF;&#x3002;&#x5982;&#x679C;&#x4EFB;&#x52A1;&#x9891;&#x7E41;&#x963B;&#x585E;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x662F;&#xA0;I/O&#x8FB9;&#x754C;&#xFF09;&#xFF0C;&#x5219;&#x7CFB;&#x7EDF;&#x53EF;&#x80FD;&#x4E3A;&#x8D85;&#x8FC7;&#x60A8;&#x8BB8;&#x53EF;&#x7684;&#x66F4;&#x591A;&#x7EBF;&#x7A0B;&#x5B89;&#x6392;&#x65F6;&#x95F4;&#x3002;&#x4F7F;&#x7528;&#x5C0F;&#x578B;&#x961F;&#x5217;&#x901A;&#x5E38;&#x8981;&#x6C42;&#x8F83;&#x5927;&#x7684;&#x6C60;&#x5927;&#x5C0F;&#xFF0C;CPU&#x4F7F;&#x7528;&#x7387;&#x8F83;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x4E0D;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x8C03;&#x5EA6;&#x5F00;&#x9500;&#xFF0C;&#x8FD9;&#x6837;&#x4E5F;&#x4F1A;&#x964D;&#x4F4E;&#x541E;&#x5410;&#x91CF;&#x3002;&#xA0;&#xA0;</p><p><strong>BlockingQueue&#x7684;&#x9009;&#x62E9;&#x3002;</strong></p><p><strong>&#x4F8B;&#x5B50;&#x4E00;&#xFF1A;&#x4F7F;&#x7528;&#x76F4;&#x63A5;&#x63D0;&#x4EA4;&#x7B56;&#x7565;&#xFF0C;&#x4E5F;&#x5373;SynchronousQueue&#x3002;</strong></p><p>&#x9996;&#x5148;SynchronousQueue&#x662F;&#x65E0;&#x754C;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4ED6;&#x5B58;&#x6570;&#x4EFB;&#x52A1;&#x7684;&#x80FD;&#x529B;&#x662F;&#x6CA1;&#x6709;&#x9650;&#x5236;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x8BE5;Queue&#x672C;&#x8EAB;&#x7684;&#x7279;&#x6027;&#xFF0C;<strong>&#x5728;&#x67D0;&#x6B21;&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x540E;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x53D6;&#x8D70;&#x540E;&#x624D;&#x80FD;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0;</strong>&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x4E0D;&#x662F;&#x6838;&#x5FC3;&#x7EBF;&#x7A0B;&#x4FBF;&#x662F;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8BD5;&#x60F3;&#x4E00;&#x6837;&#x4E0B;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x573A;&#x666F;&#x3002;</p><p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x4E0B;&#x53C2;&#x6570;&#x6784;&#x9020;ThreadPoolExecutor&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" new ThreadPoolExecutor( 2, 3, 30, TimeUnit.SECONDS, new  SynchronousQueue&lt;Runnable&gt;(), new RecorderThreadFactory(&quot;CookieRecorderPool&quot;), new ThreadPoolExecutor.CallerRunsPolicy());  " title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code style="word-break:break-word;white-space:initial"> <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>( <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS, <span class="hljs-keyword">new</span>  <span class="hljs-type">SynchronousQueue</span>&lt;Runnable&gt;(), <span class="hljs-keyword">new</span> <span class="hljs-type">RecorderThreadFactory</span>(<span class="hljs-string">&quot;CookieRecorderPool&quot;</span>), <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>.CallerRunsPolicy());  </code></pre><p><strong>&#x5F53;&#x6838;&#x5FC3;&#x7EBF;&#x7A0B;&#x5DF2;&#x7ECF;&#x6709;2&#x4E2A;&#x6B63;&#x5728;&#x8FD0;&#x884C;.</strong></p><ol><li>&#x6B64;&#x65F6;&#x7EE7;&#x7EED;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#xFF08;A&#xFF09;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x9762;&#x4ECB;&#x7ECD;&#x7684;&#x201C;&#x5982;&#x679C;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x7B49;&#x4E8E;&#x6216;&#x591A;&#x4E8E;&#xA0;corePoolSize&#xFF0C;&#x5219;Executor&#x59CB;&#x7EC8;&#x9996;&#x9009;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;<strong>&#x800C;&#x4E0D;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;</strong>&#x3002;&#x201D;,&#x6240;&#x4EE5;A&#x88AB;&#x6DFB;&#x52A0;&#x5230;queue&#x4E2D;&#x3002;</li><li>&#x53C8;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#xFF08;B&#xFF09;&#xFF0C;&#x4E14;&#x6838;&#x5FC3;2&#x4E2A;&#x7EBF;&#x7A0B;&#x8FD8;&#x6CA1;&#x6709;&#x5FD9;&#x5B8C;&#xFF0C;OK&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x9996;&#x5148;&#x5C1D;&#x8BD5;1&#x4E2D;&#x63CF;&#x8FF0;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x7684;SynchronousQueue&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x5B9A;&#x65E0;&#x6CD5;&#x52A0;&#x5165;&#x8FDB;&#x53BB;&#x3002;</li><li>&#x6B64;&#x65F6;&#x4FBF;&#x6EE1;&#x8DB3;&#x4E86;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x201C;&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x9664;&#x975E;&#x521B;&#x5EFA;&#x6B64;&#x7EBF;&#x7A0B;&#x8D85;&#x51FA;maximumPoolSize&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EFB;&#x52A1;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x3002;&#x201D;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x7136;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;</li><li>&#x6682;&#x65F6;&#x8FD8;&#x53EF;&#x4EE5;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8FD9;&#x4E09;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x8FD8;&#x6CA1;&#x5B8C;&#x6210;&#xFF0C;&#x8FDE;&#x7EED;&#x6765;&#x4E86;&#x4E24;&#x4E2A;&#x4EFB;&#x52A1;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x6DFB;&#x52A0;&#x5165;queue&#x4E2D;&#xFF0C;&#x540E;&#x4E00;&#x4E2A;&#x5462;&#xFF1F;queue&#x4E2D;&#x65E0;&#x6CD5;&#x63D2;&#x5165;&#xFF0C;&#x800C;&#x7EBF;&#x7A0B;&#x6570;&#x8FBE;&#x5230;&#x4E86;maximumPoolSize&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x597D;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x7B56;&#x7565;&#x4E86;&#x3002;</li></ol><p>&#x6240;&#x4EE5;&#x5728;&#x4F7F;&#x7528;SynchronousQueue&#x901A;&#x5E38;&#x8981;&#x6C42;maximumPoolSize&#x662F;&#x65E0;&#x754C;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#xFF08;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x9650;&#x5236;&#x5C31;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6709;&#x754C;&#x961F;&#x5217;&#xFF09;&#x3002;&#x5BF9;&#x4E8E;&#x4F7F;&#x7528;SynchronousQueue&#x7684;&#x4F5C;&#x7528;jdk&#x4E2D;&#x5199;&#x7684;&#x5F88;&#x6E05;&#x695A;&#xFF1A;&#x6B64;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x5728;&#x5904;&#x7406;&#x53EF;&#x80FD;&#x5177;&#x6709;&#x5185;&#x90E8;&#x4F9D;&#x8D56;&#x6027;&#x7684;&#x8BF7;&#x6C42;&#x96C6;&#x65F6;&#x51FA;&#x73B0;&#x9501;&#x3002;</p><p>&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF1F;&#x5982;&#x679C;&#x4F60;&#x7684;&#x4EFB;&#x52A1;A1&#xFF0C;A2&#x6709;&#x5185;&#x90E8;&#x5173;&#x8054;&#xFF0C;A1&#x9700;&#x8981;&#x5148;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5148;&#x63D0;&#x4EA4;A1&#xFF0C;&#x518D;&#x63D0;&#x4EA4;A2&#xFF0C;&#x5F53;&#x4F7F;&#x7528;SynchronousQueue&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#xFF0C;A1&#x5FC5;&#x5B9A;&#x5148;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5728;A1&#x4E48;&#x6709;&#x88AB;&#x6267;&#x884C;&#x524D;&#xFF0C;A2&#x4E0D;&#x53EF;&#x80FD;&#x6DFB;&#x52A0;&#x5165;queue&#x4E2D;&#x3002;</p><p><strong>&#x4F8B;&#x5B50;&#x4E8C;&#xFF1A;&#x4F7F;&#x7528;&#x65E0;&#x754C;&#x961F;&#x5217;&#x7B56;&#x7565;&#xFF0C;&#x5373;LinkedBlockingQueue</strong></p><p>&#x8FD9;&#x4E2A;&#x5C31;&#x62FF;<strong>newFixedThreadPool</strong>&#x6765;&#x8BF4;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x6587;&#x63D0;&#x5230;&#x7684;&#x89C4;&#x5219;&#xFF1A;</p><p>&#x5982;&#x679C;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x5C11;&#x4E8E;&#xA0;corePoolSize&#xFF0C;&#x5219;&#xA0;Executor&#xA0;&#x59CB;&#x7EC8;&#x9996;&#x9009;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x8FDB;&#x884C;&#x6392;&#x961F;&#x3002;&#x90A3;&#x4E48;&#x5F53;&#x4EFB;&#x52A1;&#x7EE7;&#x7EED;&#x589E;&#x52A0;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><p>&#x5982;&#x679C;&#x8FD0;&#x884C;&#x7684;&#x7EBF;&#x7A0B;&#x7B49;&#x4E8E;&#x6216;&#x591A;&#x4E8E;&#xA0;corePoolSize&#xFF0C;&#x5219;&#xA0;Executor&#xA0;&#x59CB;&#x7EC8;&#x9996;&#x9009;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#x3002;OK&#xFF0C;&#x6B64;&#x65F6;&#x4EFB;&#x52A1;&#x53D8;&#x52A0;&#x5165;&#x961F;&#x5217;&#x4E4B;&#x4E2D;&#x4E86;&#xFF0C;&#x90A3;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x6DFB;&#x52A0;&#x65B0;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;</p><p>&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x5C06;&#x8BF7;&#x6C42;&#x52A0;&#x5165;&#x961F;&#x5217;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x9664;&#x975E;&#x521B;&#x5EFA;&#x6B64;&#x7EBF;&#x7A0B;&#x8D85;&#x51FA;&#xA0;maximumPoolSize&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EFB;&#x52A1;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x3002;&#x8FD9;&#x91CC;&#x5C31;&#x5F88;&#x6709;&#x610F;&#x601D;&#x4E86;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x65E0;&#x6CD5;&#x52A0;&#x5165;&#x961F;&#x5217;&#x5417;&#xFF1F;&#x4E0D;&#x50CF;SynchronousQueue&#x90A3;&#x6837;&#x6709;&#x5176;&#x81EA;&#x8EAB;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x5BF9;&#x4E8E;&#x65E0;&#x754C;&#x961F;&#x5217;&#x6765;&#x8BF4;&#xFF0C;&#x603B;&#x662F;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x7684;&#xFF08;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#xFF0C;&#x5F53;&#x7136;&#x53E6;&#x5F53;&#x522B;&#x8BBA;&#xFF09;&#x3002;&#x6362;&#x53E5;&#x8BF4;&#xFF0C;&#x6C38;&#x8FDC;&#x4E5F;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x4EA7;&#x751F;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&#xFF01;corePoolSize&#x5927;&#x5C0F;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#x4F1A;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#xFF0C;&#x5FD9;&#x5B8C;&#x5F53;&#x524D;&#x7684;&#xFF0C;&#x5C31;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x62FF;&#x4EFB;&#x52A1;&#x5F00;&#x59CB;&#x8FD0;&#x884C;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x9632;&#x6B62;&#x4EFB;&#x52A1;&#x75AF;&#x957F;&#xFF0C;&#x6BD4;&#x5982;&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x7684;&#x5B9E;&#x884C;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x800C;&#x6DFB;&#x52A0;&#x4EFB;&#x52A1;&#x7684;&#x901F;&#x5EA6;&#x8FDC;&#x8FDC;&#x8D85;&#x8FC7;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x4E0D;&#x65AD;&#x589E;&#x52A0;&#xFF0C;&#x4E0D;&#x4E00;&#x4F1A;&#x513F;&#x5C31;&#x7206;&#x4E86;&#x3002;</p><p><strong>&#x4F8B;&#x5B50;&#x4E09;&#xFF1A;&#x6709;&#x754C;&#x961F;&#x5217;&#xFF0C;&#x4F7F;&#x7528;ArrayBlockingQueue&#x3002;</strong></p><p>&#x8FD9;&#x4E2A;&#x662F;&#x6700;&#x4E3A;&#x590D;&#x6742;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;JDK&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x4E5F;&#x6709;&#x4E9B;&#x9053;&#x7406;&#x3002;&#x4E0E;&#x4E0A;&#x9762;&#x7684;&#x76F8;&#x6BD4;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x7279;&#x70B9;&#x4FBF;&#x662F;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x3002;</p><p>&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x8BF7;&#x770B;&#x5982;&#x4E0B;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" new ThreadPoolExecutor( 2, 4, 30, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(2), new RecorderThreadFactory(&quot;CookieRecorderPool&quot;), new ThreadPoolExecutor.CallerRunsPolicy());  " title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code style="word-break:break-word;white-space:initial"> <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>( <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS, <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayBlockingQueue</span>&lt;Runnable&gt;(<span class="hljs-number">2</span>), <span class="hljs-keyword">new</span> <span class="hljs-type">RecorderThreadFactory</span>(<span class="hljs-string">&quot;CookieRecorderPool&quot;</span>), <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>.CallerRunsPolicy());  </code></pre><p>&#x5047;&#x8BBE;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4EFB;&#x52A1;&#x90FD;&#x6C38;&#x8FDC;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x5B8C;&#x3002;</p><p>&#x5BF9;&#x4E8E;&#x9996;&#x5148;&#x6765;&#x7684;A,B&#x6765;&#x8BF4;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x6765;&#x4E86;C,D&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x88AB;&#x653E;&#x5230;queue&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x63A5;&#x4E0B;&#x6765;&#x518D;&#x6765;E,F&#xFF0C;&#x5219;&#x589E;&#x52A0;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;E&#xFF0C;F&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x518D;&#x6765;&#x4EFB;&#x52A1;&#xFF0C;&#x961F;&#x5217;&#x65E0;&#x6CD5;&#x518D;&#x63A5;&#x53D7;&#x4E86;&#xFF0C;&#x7EBF;&#x7A0B;&#x6570;&#x4E5F;&#x5230;&#x8FBE;&#x6700;&#x5927;&#x7684;&#x9650;&#x5236;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;&#x62D2;&#x7EDD;&#x7B56;&#x7565;&#x6765;&#x5904;&#x7406;&#x3002;</p><p><strong>keepAliveTime</strong></p><p>jdk&#x4E2D;&#x7684;&#x89E3;&#x91CA;&#x662F;&#xFF1A;&#x5F53;&#x7EBF;&#x7A0B;&#x6570;&#x5927;&#x4E8E;&#x6838;&#x5FC3;&#x65F6;&#xFF0C;&#x6B64;&#x4E3A;&#x7EC8;&#x6B62;&#x524D;&#x591A;&#x4F59;&#x7684;&#x7A7A;&#x95F2;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;&#x65B0;&#x4EFB;&#x52A1;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;&#x3002;</p><p>&#x6709;&#x70B9;&#x62D7;&#x53E3;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x4E0D;&#x96BE;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4E86;&#x201C;&#x6C60;&#x201D;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x5927;&#x591A;&#x90FD;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x53C2;&#x6570;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x3002;&#x6BD4;&#x5982;<a href="http://lib.csdn.net/base/mysql" rel="nofollow noreferrer" target="_blank">&#x6570;&#x636E;&#x5E93;</a>&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;DBCP&#x4E2D;&#x7684;maxIdle&#xFF0C;minIdle&#x53C2;&#x6570;&#x3002;</p><p>&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF1F;&#x63A5;&#x7740;&#x4E0A;&#x9762;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x540E;&#x6765;&#x5411;&#x8001;&#x677F;&#x6D3E;&#x6765;&#x7684;&#x5DE5;&#x4EBA;&#x59CB;&#x7EC8;&#x662F;&#x201C;&#x501F;&#x6765;&#x7684;&#x201D;&#xFF0C;&#x4FD7;&#x8BDD;&#x8BF4;&#x201C;&#x6709;&#x501F;&#x5C31;&#x6709;&#x8FD8;&#x201D;&#xFF0C;&#x4F46;&#x8FD9;&#x91CC;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8FD8;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x501F;&#x6765;&#x7684;&#x5DE5;&#x4EBA;&#x521A;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5C31;&#x8FD8;&#x56DE;&#x53BB;&#xFF0C;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x4EFB;&#x52A1;&#x8FD8;&#x6709;&#xFF0C;&#x90A3;&#x5C82;&#x4E0D;&#x662F;&#x53C8;&#x8981;&#x53BB;&#x501F;&#xFF1F;&#x8FD9;&#x4E00;&#x6765;&#x4E00;&#x5F80;&#xFF0C;&#x8001;&#x677F;&#x80AF;&#x5B9A;&#x5934;&#x4E5F;&#x5927;&#x6B7B;&#x4E86;&#x3002;</p><p>&#x5408;&#x7406;&#x7684;&#x7B56;&#x7565;&#xFF1A;&#x65E2;&#x7136;&#x501F;&#x4E86;&#xFF0C;&#x90A3;&#x5C31;&#x591A;&#x501F;&#x4E00;&#x4F1A;&#x513F;&#x3002;&#x76F4;&#x5230;&#x201C;&#x67D0;&#x4E00;&#x6BB5;&#x201D;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x518D;&#x4E5F;&#x7528;&#x4E0D;&#x5230;&#x8FD9;&#x4E9B;&#x5DE5;&#x4EBA;&#x65F6;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x8FD8;&#x56DE;&#x53BB;&#x4E86;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x67D0;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4FBF;&#x662F;keepAliveTime&#x7684;&#x542B;&#x4E49;&#xFF0C;TimeUnit&#x4E3A;keepAliveTime&#x503C;&#x7684;&#x5EA6;&#x91CF;&#x3002;</p><p><strong>RejectedExecutionHandler</strong></p><p>&#x53E6;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x4FBF;&#x662F;&#xFF0C;&#x5373;&#x4F7F;&#x5411;&#x8001;&#x677F;&#x501F;&#x4E86;&#x5DE5;&#x4EBA;&#xFF0C;&#x4F46;&#x662F;&#x4EFB;&#x52A1;&#x8FD8;&#x662F;&#x7EE7;&#x7EED;&#x8FC7;&#x6765;&#xFF0C;&#x8FD8;&#x662F;&#x5FD9;&#x4E0D;&#x8FC7;&#x6765;&#xFF0C;&#x8FD9;&#x65F6;&#x6574;&#x4E2A;&#x961F;&#x4F0D;&#x53EA;&#x597D;&#x62D2;&#x7EDD;&#x63A5;&#x53D7;&#x4E86;&#x3002;</p><p>RejectedExecutionHandler&#x63A5;&#x53E3;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x4E8E;&#x62D2;&#x7EDD;&#x4EFB;&#x52A1;&#x7684;&#x5904;&#x7406;&#x7684;&#x81EA;&#x5B9A;&#x65B9;&#x6CD5;&#x7684;&#x673A;&#x4F1A;&#x3002;&#x5728;ThreadPoolExecutor&#x4E2D;&#x5DF2;&#x7ECF;&#x9ED8;&#x8BA4;&#x5305;&#x542B;&#x4E86;4&#x4E2D;&#x7B56;&#x7565;&#xFF0C;&#x56E0;&#x4E3A;&#x6E90;&#x7801;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x8D34;&#x51FA;&#x6765;&#x3002;</p><p><strong>CallerRunsPolicy</strong>&#xFF1A;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x8FD0;&#x884C;&#x8BE5;&#x4EFB;&#x52A1;&#x7684;&#xA0;execute&#xA0;&#x672C;&#x8EAB;&#x3002;&#x6B64;&#x7B56;&#x7565;&#x63D0;&#x4F9B;&#x7B80;&#x5355;&#x7684;&#x53CD;&#x9988;&#x63A7;&#x5236;&#x673A;&#x5236;&#xFF0C;&#x80FD;&#x591F;&#x51CF;&#x7F13;&#x65B0;&#x4EFB;&#x52A1;&#x7684;&#x63D0;&#x4EA4;&#x901F;&#x5EA6;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public void rejectedExecution(Runnable r, ThreadPoolExecutor e) { if (!e.isShutdown()) {

               r.run();

           }

       }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs cpp"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rejectedExecution</span><span class="hljs-params">(Runnable r, ThreadPoolExecutor e)</span> </span>{ <span class="hljs-keyword">if</span> (!e.isShutdown()) {

               r.run();

           }

       }</code></pre><p>&#x8FD9;&#x4E2A;&#x7B56;&#x7565;&#x663E;&#x7136;&#x4E0D;&#x60F3;&#x653E;&#x5F03;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x6C60;&#x4E2D;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8D44;&#x6E90;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8C03;&#x7528;&#x8BE5;execute&#x7684;&#x7EBF;&#x7A0B;&#x672C;&#x8EAB;&#x6765;&#x6267;&#x884C;&#x3002;</p><p><strong>AbortPolicy&#xFF1A;</strong>&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x906D;&#x5230;&#x62D2;&#x7EDD;&#x5C06;&#x629B;&#x51FA;&#x8FD0;&#x884C;&#x65F6;RejectedExecutionException</p><p>&#xA0;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x76F4;&#x63A5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x4E22;&#x5F03;&#x4EFB;&#x52A1;&#x3002;</p><p><strong>DiscardPolicy&#xFF1A;</strong>&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x5C06;&#x88AB;&#x5220;&#x9664;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public void rejectedExecution(Runnable r, ThreadPoolExecutor e) {

       }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs cpp"><code><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rejectedExecution</span><span class="hljs-params">(Runnable r, ThreadPoolExecutor e)</span> </span>{

       }</code></pre><p>&#xA0;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x548C;AbortPolicy&#x51E0;&#x4E4E;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x4E22;&#x5F03;&#x4EFB;&#x52A1;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x4ED6;&#x4E0D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p><p><strong>DiscardOldestPolicy&#xFF1A;</strong>&#x5982;&#x679C;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x5C1A;&#x672A;&#x5173;&#x95ED;&#xFF0C;&#x5219;&#x4F4D;&#x4E8E;&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#x5934;&#x90E8;&#x7684;&#x4EFB;&#x52A1;&#x5C06;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x8BD5;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#xFF08;&#x5982;&#x679C;&#x518D;&#x6B21;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x91CD;&#x590D;&#x6B64;&#x8FC7;&#x7A0B;&#xFF09;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public void rejectedExecution(Runnable r, ThreadPoolExecutor e) { if (!e.isShutdown()) {

               e.getQueue().poll();

               e.execute(r);

           }

       }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs less"><code><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">rejectedExecution</span>(Runnable r, ThreadPoolExecutor e) { <span class="hljs-selector-tag">if</span> (!e.isShutdown()) {

               <span class="hljs-selector-tag">e</span><span class="hljs-selector-class">.getQueue</span>()<span class="hljs-selector-class">.poll</span>();

               <span class="hljs-selector-tag">e</span><span class="hljs-selector-class">.execute</span>(r);

           }

       }</code></pre><p>&#x8BE5;&#x7B56;&#x7565;&#x5C31;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#xFF0C;&#x5728;pool&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x9996;&#x5148;&#x4E22;&#x6389;&#x7F13;&#x5B58;&#x5728;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6700;&#x65E9;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x5C1D;&#x8BD5;&#x8FD0;&#x884C;&#x8BE5;&#x4EFB;&#x52A1;&#x3002;&#x8FD9;&#x4E2A;&#x7B56;&#x7565;&#x9700;&#x8981;&#x9002;&#x5F53;&#x5C0F;&#x5FC3;&#x3002;</p><p>&#x8BBE;&#x60F3;:&#x5982;&#x679C;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x90FD;&#x8FD8;&#x5728;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x65B0;&#x6765;&#x4EFB;&#x52A1;&#x8E22;&#x6389;&#x65E7;&#x4EFB;&#x52A1;&#xFF0C;&#x7F13;&#x5B58;&#x5728;queue&#x4E2D;&#xFF0C;&#x518D;&#x6765;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x53C8;&#x4F1A;&#x8E22;&#x6389;queue&#x4E2D;&#x6700;&#x8001;&#x4EFB;&#x52A1;&#x3002;</p><h3 id="articleHeader3">&#x603B;&#x7ED3;&#xFF1A;</h3><p>keepAliveTime&#x548C;maximumPoolSize&#x53CA;BlockingQueue&#x7684;&#x7C7B;&#x578B;&#x5747;&#x6709;&#x5173;&#x7CFB;&#x3002;&#x5982;&#x679C;BlockingQueue&#x662F;&#x65E0;&#x754C;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;maximumPoolSize&#xFF0C;&#x81EA;&#x7136;keepAliveTime&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x610F;&#x4E49;&#x3002;</p><p>&#x53CD;&#x4E4B;&#xFF0C;&#x5982;&#x679C;&#x6838;&#x5FC3;&#x6570;&#x8F83;&#x5C0F;&#xFF0C;&#x6709;&#x754C;BlockingQueue&#x6570;&#x503C;&#x53C8;&#x8F83;&#x5C0F;&#xFF0C;&#x540C;&#x65F6;keepAliveTime&#x53C8;&#x8BBE;&#x7684;&#x5F88;&#x5C0F;&#xFF0C;&#x5982;&#x679C;&#x4EFB;&#x52A1;&#x9891;&#x7E41;&#xFF0C;&#x90A3;&#x4E48;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x9891;&#x7E41;&#x7684;&#x7533;&#x8BF7;&#x56DE;&#x6536;&#x7EBF;&#x7A0B;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());

   }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs haxe"><code><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-keyword">new</span><span class="hljs-type">FixedThreadPool</span>(int nThreads) { <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">ThreadPoolExecutor</span>(nThreads, nThreads, <span class="hljs-number">0</span>L, TimeUnit.MILLISECONDS, <span class="hljs-keyword">new</span> <span class="hljs-type">LinkedBlockingQueue</span>&lt;Runnable&gt;());

   }</code></pre><blockquote>&#x539F;&#x6587;&#x5730;&#x5740;&#xFF1A;<p><a href="https://www.cnblogs.com/aspirant/p/6920418.html" rel="nofollow noreferrer" target="_blank">https://www.cnblogs.com/aspir...</a></p></blockquote><h4>&#x9605;&#x8BFB;&#x66F4;&#x591A;</h4><p><a href="http://mp.weixin.qq.com/s?__biz=MzI3OTU0MzI4MQ==&amp;mid=2247486318&amp;idx=1&amp;sn=44e05d7605331bf07ed86b15f1ec3b84&amp;chksm=eb4767f0dc30eee6db6ed0ac0871d55939e852ed09436181ef3d07bf1b6c91374dd108f2f510&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">&#x6280;&#x672F;&#x7CBE;&#x534E;&#x603B;&#x7ED3;&#xFF0C;&#x8BF4;&#x8BF4;&#x6211;&#x4E0A;&#x534A;&#x5E74;&#x90FD;&#x5E72;&#x4E86;&#x4EC0;&#x4E48;</a></p><p><a href="http://mp.weixin.qq.com/s?__biz=MzI3OTU0MzI4MQ==&amp;mid=2247486312&amp;idx=1&amp;sn=62998cd9c647af8a69a5255ea5ac841e&amp;chksm=eb4767f6dc30eee0a2fccb7fcecdcbae48dbcf5eee59e1b0918e75381971ef5b1f9d860d1ac9&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">&#x975E;&#x79D1;&#x73ED;&#x51FA;&#x8EAB;&#x7A0B;&#x5E8F;&#x5458;&#xFF1A;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x804C;&#x4E1A;&#x8D44;&#x6E90;&#x3001;&#x8FDB;&#x5165;&#x597D;&#x516C;&#x53F8;&#xFF1F;</a></p><p><a href="http://mp.weixin.qq.com/s?__biz=MzI3OTU0MzI4MQ==&amp;mid=2247486298&amp;idx=1&amp;sn=1e71ed94ec7694988bcab0b4b2ebec51&amp;chksm=eb4767c4dc30eed2eaf93ed04c4b63c1399445b162e5c3ae15677b7a7f9c1a04e3810effecf8&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">&#x3010;Android&#x3011;&#x4E00;&#x6B21;&#x9762;&#x8BD5;&#x603B;&#x7ED3;</a></p><p><a href="http://mp.weixin.qq.com/s?__biz=MzI3OTU0MzI4MQ==&amp;mid=2247486283&amp;idx=1&amp;sn=33df316ee1cababfd98a09aa0b00fdd7&amp;chksm=eb4767d5dc30eec36868b06a60865bf248c84f83af59044f5d235f49f789c96b9e4bd3ad39f1&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">&#x7EC3;&#x5C31;Java24&#x7AE0;&#x771F;&#x7ECF;&#x2014;&#x4F60;&#x6240;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;</a></p>
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。 

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
美团面试题：Java-线程池 ThreadPool 专题详解

## 原文链接
[https://segmentfault.com/a/1190000016451169](https://segmentfault.com/a/1190000016451169)

